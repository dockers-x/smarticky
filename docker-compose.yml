version: '3.8'

services:
  smarticky:
    build: .
    ports:
      - "8080:8080"
    volumes:
      # Use named volume for better data persistence
      - smarticky-data:/data
    environment:
      # Data directory configuration
      - SMARTICKY_DATA_DIR=/data
      # Server configuration
      - PORT=8080
      # WebDAV backup configuration (optional)
      - WEBDAV_URL=
      - WEBDAV_USER=
      - WEBDAV_PASSWORD=
      # S3 backup configuration (optional)
      - S3_ENDPOINT=
      - S3_REGION=
      - S3_BUCKET=
      - S3_ACCESS_KEY=
      - S3_SECRET_KEY=
    restart: unless-stopped

volumes:
  smarticky-data:
    driver: local
