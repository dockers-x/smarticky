# 功能使用指南 / Feature Guide

## 界面概览 / Interface Overview

Smarticky Notes 采用三栏布局，参考锤子便签的设计理念：

```
┌──────────┬──────────────┬─────────────────────────┐
│          │              │                         │
│  侧边栏   │   便签列表    │       编辑器区域         │
│ Sidebar  │  Note List   │      Editor Panel       │
│          │              │                         │
│  - 全部   │  Note 1      │    Title Input          │
│  - 收藏   │  Note 2      │    ─────────────        │
│  - 废纸篓  │  Note 3      │    Content Textarea     │
│          │              │                         │
│  [图标]  │  [搜索框]     │    [工具栏]             │
└──────────┴──────────────┴─────────────────────────┘
```

---

## 📝 核心功能 / Core Features

### 1. 便签管理 / Note Management

#### 创建便签 / Create Note
- **位置**: 侧边栏顶部的 `+` 按钮
- **快捷键**: `Ctrl/Cmd + N`
- **操作**: 点击后自动创建新便签并进入编辑模式

#### 编辑便签 / Edit Note
- **标题编辑**: 点击编辑器顶部的标题输入框
- **内容编辑**: 在下方大文本区域输入内容
- **自动保存**: 输入后 500ms 自动保存

#### 收藏便签 / Star Note
- **位置**: 编辑器工具栏的星形图标
- **快捷键**: `Ctrl/Cmd + S`
- **状态**: 实心星 = 已收藏，空心星 = 未收藏

#### 删除便签 / Delete Note
- **软删除**: 点击工具栏的垃圾桶图标 → 移到废纸篓
- **永久删除**: 在废纸篓中点击"永久删除"按钮
- **恢复**: 在废纸篓中点击"恢复"按钮

---

### 2. 便签颜色 / Note Colors

#### 使用颜色标签 / Using Color Tags

**可用颜色**:
- 🤍 默认 (白色/默认背景)
- 💛 黄色 (Yellow)
- 💚 绿色 (Green)
- 💙 蓝色 (Blue)
- 💗 粉色 (Pink)
- 💜 紫色 (Purple)

**设置步骤**:
1. 选择要设置颜色的便签
2. 点击编辑器工具栏的 **设置图标** (齿轮)
3. 在弹出的颜色选择器中选择颜色
4. 颜色立即应用到便签列表和编辑器背景

**颜色效果**:
- 便签列表中该便签背景色改变
- 编辑器区域背景色改变
- 视觉上更容易区分不同类型的便签

**使用场景**:
- 🟡 黄色 - 重要提醒
- 🟢 绿色 - 工作事项
- 🔵 蓝色 - 学习笔记
- 🔴 粉色 - 个人想法
- 🟣 紫色 - 创意灵感

---

### 3. 排序功能 / Sorting

#### 排序选项 / Sort Options

**访问方式**:
- 点击侧边栏底部的 **更多图标** (三个点)
- 选择排序方式

**可用排序**:
1. **最后修改 (最新)** - 最近修改的在最前
2. **最后修改 (最旧)** - 最早修改的在最前
3. **标题 (A-Z)** - 按标题字母顺序
4. **标题 (Z-A)** - 按标题反向字母顺序
5. **颜色** - 按颜色分组

**特点**:
- 排序偏好自动保存
- 刷新页面后保持排序方式
- 实时更新，无需重新加载

---

### 4. 搜索功能 / Search

#### 搜索便签 / Search Notes

**位置**: 便签列表顶部的搜索框
**快捷键**: `Ctrl/Cmd + F` - 快速聚焦搜索框

**搜索范围**:
- 便签标题
- 便签内容

**特点**:
- 实时搜索，输入即显示结果
- 搜索时保持当前过滤器（全部/收藏/废纸篓）
- 清空搜索框显示所有便签

---

### 5. 导出功能 / Export

#### 导出为 Markdown / Export as Markdown

**位置**: 编辑器工具栏的 **分享图标**
**操作**:
1. 选择要导出的便签
2. 点击工具栏的分享图标
3. 自动下载 `.md` 文件

**导出格式**:
```markdown
# 便签标题

便签内容...
```

**文件命名**: `{便签标题}.md`

---

### 6. 备份与恢复 / Backup & Restore

#### 图形化配置界面 / Graphical Config UI

**访问方式**:
- 点击侧边栏底部的 **分享图标** (备份设置)

**支持的备份方式**:

##### WebDAV 备份
配置项：
- WebDAV URL: `https://dav.example.com/path`
- 用户名
- 密码

##### S3 兼容存储
配置项：
- Endpoint: `s3.amazonaws.com`
- Bucket 名称
- Access Key
- Secret Key

**操作步骤**:
1. 点击备份设置按钮
2. 选择 WebDAV 或 S3 标签页
3. 填写配置信息
4. 点击"保存配置"
5. 使用"立即备份"执行备份
6. 使用"恢复"从备份恢复数据

**安全提示**:
- 恢复前会自动备份当前数据
- 配置信息加密存储在数据库中
- 不再使用环境变量

---

### 7. 快捷键 / Keyboard Shortcuts

| 快捷键 | 功能 | 说明 |
|-------|------|------|
| `Ctrl/Cmd + N` | 新建便签 | 快速创建新便签 |
| `Ctrl/Cmd + F` | 聚焦搜索 | 快速跳转到搜索框 |
| `Ctrl/Cmd + S` | 切换收藏 | 收藏/取消收藏当前便签 |
| `Ctrl/Cmd + D` | 切换主题 | 明亮/深色模式切换 |
| `Esc` | 关闭模态框 | 关闭所有打开的弹窗 |

---

### 8. 主题切换 / Theme Toggle

#### 深色模式 / Dark Mode

**切换方式**:
- 点击侧边栏底部的 **设置图标**
- 使用快捷键 `Ctrl/Cmd + D`

**特点**:
- 主题偏好自动保存到 localStorage
- 刷新页面后保持主题设置
- 图标和颜色自动适配
- 保护眼睛，适合夜间使用

**颜色方案**:
- **明亮模式**: 白色背景，清爽明快
- **深色模式**: 深灰背景，减少眼睛疲劳

---

### 9. 过滤器 / Filters

#### 便签分类查看 / Category Views

**分类**:
1. **全部便签** - 显示所有非删除的便签
2. **收藏** - 仅显示收藏的便签
3. **废纸篓** - 显示已删除的便签

**操作**:
- 点击侧边栏对应的菜单项
- 当前激活的分类高亮显示

---

### 10. 多语言 / Multi-language

#### 语言切换 / Language Switch

**支持语言**:
- 🇨🇳 简体中文
- 🇬🇧 English

**自动检测**:
- 根据浏览器语言自动选择
- `zh-*` 开头 → 中文
- 其他 → English

**界面完全本地化**:
- 所有按钮、提示文本
- 确认对话框
- 错误消息
- 占位符文本

---

## 🎨 UI 元素说明 / UI Elements

### 侧边栏 / Sidebar
```
┌────────────────┐
│  Smarticky  [+]│  ← 应用标题 + 新建按钮
├────────────────┤
│ 📝 全部便签     │  ← 过滤器
│ ⭐ 收藏        │
│ 🗑️ 废纸篓      │
├────────────────┤
│ [⚙️] [🔄] [⋮]  │  ← 底部工具栏
└────────────────┘
```

### 便签列表 / Note List
```
┌──────────────────┐
│  🔍 搜索...      │  ← 搜索框
├──────────────────┤
│ [Note Title 1]   │  ← 便签项（可带颜色）
│  preview text... │
│  2025-01-28  ⭐  │
├──────────────────┤
│ [Note Title 2]   │
│  preview text... │
│  2025-01-27      │
└──────────────────┘
```

### 编辑器 / Editor
```
┌─────────────────────────────────┐
│ Last updated: 2025-01-28  [⭐⚙️📤🗑️] │  ← 工具栏
├─────────────────────────────────┤
│  Title Input Field              │  ← 标题
├─────────────────────────────────┤
│                                 │
│  Content Textarea               │  ← 内容
│                                 │
│                                 │
└─────────────────────────────────┘
```

---

## 💡 使用技巧 / Tips & Tricks

### 1. 快速工作流 / Quick Workflow
```
1. Ctrl+N → 新建便签
2. 输入标题和内容 → 自动保存
3. Ctrl+S → 快速收藏
4. 点击颜色 → 标记分类
5. Ctrl+F → 快速查找
```

### 2. 组织便签 / Organize Notes
- 使用 **颜色** 区分不同类别
- 使用 **收藏** 标记重要便签
- 使用 **搜索** 快速定位
- 使用 **排序** 按需查看

### 3. 数据安全 / Data Safety
- 定期使用 **备份功能**
- 配置自动备份计划
- 删除前确认，使用废纸篓
- 重要便签导出为文件

### 4. 高效编辑 / Efficient Editing
- 使用 **快捷键** 提高效率
- 利用 **自动保存** 无需手动保存
- **Markdown 格式** 快速排版
- **颜色标签** 视觉分类

---

## 🐛 常见问题 / FAQ

### Q: 便签会自动保存吗？
A: 是的，输入后 500ms 自动保存到数据库。

### Q: 删除的便签可以恢复吗？
A: 可以，在废纸篓中点击"恢复"按钮。

### Q: 支持 Markdown 语法吗？
A: 是的，便签使用 Markdown 格式存储和导出。

### Q: 如何备份我的数据？
A: 点击侧边栏底部的备份设置，配置 WebDAV 或 S3，然后执行备份。

### Q: 颜色标签会影响搜索吗？
A: 不会，搜索只针对标题和内容，不受颜色影响。

### Q: 可以批量操作便签吗？
A: 当前版本不支持批量操作，这是未来的计划功能。

---

## 🚀 快速开始 / Quick Start

1. **运行应用**: `./smarticky` 或 `docker-compose up`
2. **访问**: 打开浏览器访问 `http://localhost:8080`
3. **创建便签**: 点击 `+` 或按 `Ctrl+N`
4. **开始使用**: 输入内容，自动保存！

享受使用 Smarticky Notes！ 📝✨
