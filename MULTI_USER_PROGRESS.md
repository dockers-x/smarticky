# å¤šç”¨æˆ·å’Œé™„ä»¶åŠŸèƒ½å®ç°è¿›åº¦

## âœ… å·²å®Œæˆçš„åç«¯åŠŸèƒ½

### 1. æ•°æ®åº“Schemaï¼ˆEntï¼‰
- âœ… Userå®ä½“ï¼šid, username, password_hash, email, role (admin/user), avatar
- âœ… Attachmentå®ä½“ï¼šid, note_id, filename, file_path, file_size, mime_type, user_id
- âœ… Noteå®ä½“æ›´æ–°ï¼šæ·»åŠ userå…³è”å’Œattachmentså…³è”
- âœ… ç”ŸæˆEntä»£ç æˆåŠŸ

### 2. è®¤è¯API
- âœ… `GET /api/setup/check` - æ£€æŸ¥æ˜¯å¦éœ€è¦åˆå§‹åŒ–è®¾ç½®
- âœ… `POST /api/setup` - åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
- âœ… `POST /api/auth/login` - ç”¨æˆ·ç™»å½•ï¼ˆJWTè®¤è¯ï¼‰
- âœ… `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- âœ… `POST /api/auth/logout` - ç™»å‡º

### 3. ç”¨æˆ·ç®¡ç†API
- âœ… `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… `POST /api/users` - åˆ›å»ºæ–°ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- âœ… `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… `PUT /api/users/:id/password` - ä¿®æ”¹å¯†ç 
- âœ… `POST /api/users/:id/avatar` - ä¸Šä¼ å¤´åƒ

### 4. é™„ä»¶ç®¡ç†API
- âœ… `POST /api/notes/:id/attachments` - ä¸Šä¼ é™„ä»¶
- âœ… `GET /api/notes/:id/attachments` - è·å–ä¾¿ç­¾çš„é™„ä»¶åˆ—è¡¨
- âœ… `GET /api/attachments/:id/download` - ä¸‹è½½é™„ä»¶
- âœ… `DELETE /api/attachments/:id` - åˆ é™¤é™„ä»¶

### 5. ä¸­é—´ä»¶å’Œå®‰å…¨
- âœ… JWTè®¤è¯ä¸­é—´ä»¶
- âœ… ç®¡ç†å‘˜æƒé™ä¸­é—´ä»¶
- âœ… å¯†ç bcryptåŠ å¯†
- âœ… æ‰€æœ‰éœ€è¦è®¤è¯çš„APIå·²ä¿æŠ¤

### 6. æ–‡ä»¶ä¸Šä¼ 
- âœ… å¤´åƒä¸Šä¼ åˆ° `uploads/avatars/`
- âœ… é™„ä»¶ä¸Šä¼ åˆ° `uploads/attachments/`
- âœ… é™æ€æ–‡ä»¶æœåŠ¡ `/uploads`

## â³ å¾…å®ç°çš„å‰ç«¯åŠŸèƒ½

### 1. è®¾ç½®å‘å¯¼é¡µé¢ï¼ˆSetup Wizardï¼‰
éœ€è¦åˆ›å»ºï¼š
- `web/templates/setup.html` - è®¾ç½®å‘å¯¼é¡µé¢
- JavaScripté€»è¾‘æ£€æŸ¥setupçŠ¶æ€
- é¦–æ¬¡è®¿é—®æ—¶é‡å®šå‘åˆ°è®¾ç½®é¡µé¢

### 2. ç™»å½•é¡µé¢ï¼ˆLoginï¼‰
éœ€è¦åˆ›å»ºï¼š
- `web/templates/login.html` - ç™»å½•é¡µé¢
- JWT tokenå­˜å‚¨ï¼ˆlocalStorageï¼‰
- ç™»å½•åé‡å®šå‘åˆ°ä¸»é¡µé¢

### 3. ç”¨æˆ·ç®¡ç†ç•Œé¢ï¼ˆAdmin Onlyï¼‰
éœ€è¦åœ¨ä¸»ç•Œé¢æ·»åŠ ï¼š
- ç”¨æˆ·ç®¡ç†æ¨¡æ€æ¡†
- ç”¨æˆ·åˆ—è¡¨æ˜¾ç¤º
- åˆ›å»ºæ–°ç”¨æˆ·è¡¨å•
- åˆ é™¤ç”¨æˆ·ç¡®è®¤

### 4. ç”¨æˆ·è®¾ç½®é¡µé¢
éœ€è¦æ·»åŠ ï¼š
- ç”¨æˆ·èµ„æ–™ç¼–è¾‘
- å¤´åƒä¸Šä¼ å’Œé¢„è§ˆ
- ä¿®æ”¹å¯†ç è¡¨å•
- åœ¨ä¾§è¾¹æ æ·»åŠ "è®¾ç½®"å…¥å£

### 5. é™„ä»¶ç®¡ç†å™¨
éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ·»åŠ ï¼š
- é™„ä»¶åˆ—è¡¨æ˜¾ç¤º
- é™„ä»¶ä¸Šä¼ æŒ‰é’®å’Œæ‹–æ‹½åŒºåŸŸ
- é™„ä»¶ä¸‹è½½é“¾æ¥
- é™„ä»¶åˆ é™¤æŒ‰é’®
- æ–‡ä»¶å¤§å°æ˜¾ç¤º

### 6. å¤šè¯­è¨€ç¿»è¯‘
éœ€è¦æ·»åŠ ç¿»è¯‘é”®ï¼š
- ç™»å½•ç›¸å…³ï¼šlogin, username, password, logoutç­‰
- ç”¨æˆ·ç®¡ç†ï¼šuser_management, create_user, delete_userç­‰
- é™„ä»¶ç›¸å…³ï¼šattachments, upload, download, deleteç­‰
- è®¾ç½®å‘å¯¼ï¼šsetup_wizard, create_admin, welcomeç­‰

## ğŸ“‹ å®ç°å»ºè®®é¡ºåº

1. **é¦–å…ˆå®ç°ç™»å½•æµç¨‹**ï¼ˆæœ€é‡è¦ï¼‰
   - è®¾ç½®å‘å¯¼é¡µé¢
   - ç™»å½•é¡µé¢
   - JWT tokenç®¡ç†

2. **ç„¶åå®ç°é™„ä»¶åŠŸèƒ½**
   - é™„ä»¶ä¸Šä¼ ç»„ä»¶
   - é™„ä»¶åˆ—è¡¨æ˜¾ç¤º

3. **æœ€åå®ç°ç”¨æˆ·ç®¡ç†**
   - ç®¡ç†å‘˜ç”¨æˆ·ç®¡ç†ç•Œé¢
   - ç”¨æˆ·ä¸ªäººè®¾ç½®é¡µé¢

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

- **è®¤è¯æ–¹å¼**: JWT (å­˜å‚¨åœ¨localStorage)
- **å¯†ç åŠ å¯†**: bcrypt (åç«¯)
- **æ–‡ä»¶ä¸Šä¼ **: multipart/form-data
- **æƒé™æ§åˆ¶**: åŸºäºrole (admin/user)
- **å…¼å®¹æ€§**: å‘åå…¼å®¹ï¼Œæ”¯æŒæ— ç”¨æˆ·çš„notes

## ğŸ“ æ³¨æ„äº‹é¡¹

1. æ‰€æœ‰æ–°é¡µé¢éœ€è¦æ”¯æŒå¤šè¯­è¨€åˆ‡æ¢å’Œä¸»é¢˜åˆ‡æ¢
2. æ ·å¼ä¿æŒä¸ç°æœ‰ç•Œé¢ä¸€è‡´
3. éœ€è¦å¤„ç†æœªç™»å½•çŠ¶æ€çš„é‡å®šå‘
4. ä¸Šä¼ çš„æ–‡ä»¶éœ€è¦å¤§å°é™åˆ¶å’Œç±»å‹éªŒè¯
5. JWT tokenè¿‡æœŸéœ€è¦å¤„ç†

---

**çŠ¶æ€**: åç«¯å®Œæˆ âœ… | å‰ç«¯è¿›è¡Œä¸­ â³
**ä¸‹ä¸€æ­¥**: åˆ›å»ºè®¾ç½®å‘å¯¼å’Œç™»å½•é¡µé¢
